/**
 * name: @tresjs/core
 * version: v3.6.0-next.0
 * (c) 2023
 * description: Declarative ThreeJS using Vue Components
 * author: Alvaro Saburido <hola@alvarosaburido.dev> (https://github.com/alvarosabu/)
 */
(function(_,u){typeof exports=="object"&&typeof module<"u"?u(exports,require("vue"),require("three"),require("@vueuse/core")):typeof define=="function"&&define.amd?define(["exports","vue","three","@vueuse/core"],u):(_=typeof globalThis<"u"?globalThis:_||self,u(_.tres={},_.Vue,_.Three,_.VueUseCore))})(this,function(_,u,P,y){"use strict";function se(e){const a=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const t in e)if(t!=="default"){const r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(a,t,r.get?r:{enumerable:!0,get:()=>e[t]})}}return a.default=e,Object.freeze(a)}const ie=se(P),G=({sizes:e,scene:a})=>{const t=u.ref([]),r=u.computed(()=>t.value[0]),n=(s,f=!1)=>{t.value.some(({uuid:i})=>i===s.uuid)||(f?c(s):t.value.push(s))},o=s=>{t.value=t.value.filter(({uuid:f})=>f!==s.uuid)},c=s=>{const f=s instanceof P.Camera?s:t.value.find(p=>p.uuid===s);if(!f)return;const i=t.value.filter(({uuid:p})=>p!==f.uuid);t.value=[f,...i]};return u.watchEffect(()=>{e.aspectRatio.value&&t.value.forEach(s=>{s instanceof P.PerspectiveCamera&&(s.aspect=e.aspectRatio.value),(s instanceof P.PerspectiveCamera||s instanceof P.OrthographicCamera)&&s.updateProjectionMatrix()})}),a.userData.tres__registerCamera=n,a.userData.tres__deregisterCamera=o,u.onUnmounted(()=>{t.value=[]}),{camera:r,cameras:t,registerCamera:n,deregisterCamera:o,setCameraActive:c}},I=y.createEventHook(),W=y.createEventHook(),z=y.createEventHook(),E=new P.Clock;let B=0,T=0;const{pause:le,resume:ue,isActive:ce}=y.useRafFn(()=>{I.trigger({delta:B,elapsed:T,clock:E}),W.trigger({delta:B,elapsed:T,clock:E}),z.trigger({delta:B,elapsed:T,clock:E})},{immediate:!1});z.on(()=>{B=E.getDelta(),T=E.getElapsedTime()});const N=()=>({onBeforeLoop:I.on,onLoop:W.on,onAfterLoop:z.on,pause:le,resume:ue,isActive:ce}),fe=!0,U="[TresJS ▲ ■ ●] ";function S(){function e(r,n){console.error(`${U} ${r}`,n||"")}function a(r){console.warn(`${U} ${r}`)}function t(r,n){}return{logError:e,logWarning:a,logMessage:t}}function me(e){return typeof e=="number"?[e,e,e]:e instanceof P.Vector3?[e.x,e.y,e.z]:e}function q(e){return e instanceof P.Color?e:Array.isArray(e)?new P.Color(...e):new P.Color(e)}const Y=(e,a)=>{for(const t of Object.keys(a))a[t]instanceof Object&&Object.assign(a[t],Y(e[t],a[t]));return Object.assign(e||{},a),e},de=pe("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot");function H(e){return e&&e.nodeType===1}function x(e){return e.replace(/-([a-z])/g,(a,t)=>t.toUpperCase())}function pe(e,a){const t=Object.create(null),r=e.split(",");for(let n=0;n<r.length;n++)t[r[n]]=!0;return a?n=>!!t[n.toLowerCase()]:n=>!!t[n]}const ge=(e,a)=>{const t=new Set,r=[];for(const n of e){const o=a(n);t.has(o)||(t.add(o),r.push(n))}return r},J=(e,a)=>{if(!a)return;const t=Array.isArray(a)?a:a.match(/([^[.\]])+/g);return t==null?void 0:t.reduce((r,n)=>r&&r[n],e)},ve=(e,a,t)=>{const r=Array.isArray(a)?a:a.match(/([^[.\]])+/g);r&&r.reduce((n,o,c)=>(n[o]===void 0&&(n[o]={}),c===r.length-1&&(n[o]=t),n[o]),e)};function K(e,a){if(H(e)&&H(a)){const n=e.attributes,o=a.attributes;return n.length!==o.length?!1:Array.from(n).every(({name:c,value:s})=>a.getAttribute(c)===s)}if(e===a)return!0;if(e===null||typeof e!="object"||a===null||typeof a!="object")return!1;const t=Object.keys(e),r=Object.keys(a);if(t.length!==r.length)return!1;for(const n of t)if(!r.includes(n)||!K(e[n],a[n]))return!1;return!0}function ye(e,a){if(!Array.isArray(e)||!Array.isArray(a)||e.length!==a.length)return!1;for(let t=0;t<e.length;t++)if(!K(e[t],a[t]))return!1;return!0}const we=Array.isArray,Ce=Number.parseInt(P.REVISION.replace("dev","")),V={realistic:{shadows:!0,physicallyCorrectLights:!0,outputColorSpace:P.SRGBColorSpace,toneMapping:P.ACESFilmicToneMapping,toneMappingExposure:3,shadowMap:{enabled:!0,type:P.PCFSoftShadowMap}}};function X({scene:e,canvas:a,options:t,disableRender:r,contextParts:{sizes:n,camera:o}}){const c=u.computed(()=>({alpha:y.toValue(t.alpha),depth:y.toValue(t.depth),canvas:y.unrefElement(a),context:y.toValue(t.context),stencil:y.toValue(t.stencil),antialias:y.toValue(t.antialias)===void 0?!0:y.toValue(t.antialias),precision:y.toValue(t.precision),powerPreference:y.toValue(t.powerPreference),premultipliedAlpha:y.toValue(t.premultipliedAlpha),preserveDrawingBuffer:y.toValue(t.preserveDrawingBuffer),logarithmicDepthBuffer:y.toValue(t.logarithmicDepthBuffer),failIfMajorPerformanceCaveat:y.toValue(t.failIfMajorPerformanceCaveat)})),s=u.shallowRef(new P.WebGLRenderer(c.value));u.watch(c,()=>{s.value.dispose(),s.value=new P.WebGLRenderer(c.value)}),u.watchEffect(()=>{s.value.setSize(n.width.value,n.height.value)});const{pixelRatio:f}=y.useDevicePixelRatio();u.watchEffect(()=>{s.value.setPixelRatio(f.value)});const{logError:i}=S(),m=(()=>{const v=new P.WebGLRenderer,b={shadowMap:{enabled:v.shadowMap.enabled,type:v.shadowMap.type},toneMapping:v.toneMapping,toneMappingExposure:v.toneMappingExposure,outputColorSpace:v.outputColorSpace};return v.dispose(),b})();u.watchEffect(()=>{const v=y.toValue(t.preset);v&&(v in V||i(`Renderer Preset must be one of these: ${Object.keys(V).join(", ")}`),Y(s.value,V[v]));const b=(M,A)=>{const D=y.toValue(M),O=()=>{if(v)return J(V[v],A)};if(D!==void 0)return D;const C=O();return C!==void 0?C:J(m,A)},h=(M,A)=>ve(s.value,A,b(M,A));h(t.shadows,"shadowMap.enabled"),h(t.toneMapping,"toneMapping"),h(t.shadowMapType,"shadowMap.type"),Ce<150&&h(!t.useLegacyLights,"physicallyCorrectLights"),h(t.outputColorSpace,"outputColorSpace"),h(t.toneMappingExposure,"toneMappingExposure");const L=b(t.clearColor,"clearColor");L&&s.value.setClearColor(L?q(L):new P.Color(0))});const{pause:l,resume:d,onLoop:g}=N();return g(()=>{o.value&&!y.toValue(r)&&s.value.render(e,o.value)}),d(),u.onUnmounted(()=>{l(),s.value.dispose(),s.value.forceContextLoss()}),{renderer:s}}const Q=e=>typeof e=="function",he=e=>!!e&&e.constructor===Array;function Z(e){const a={nodes:{},materials:{}};return e&&e.traverse(t=>{t.name&&(a.nodes[t.name]=t),t.material&&!a.materials[t.material.name]&&(a.materials[t.material.name]=t.material)}),a}async function _e(e,a,t,r,n){const{logError:o}=S(),c=new e;n&&n(c),t&&t(c);const f=(Array.isArray(a)?a:[a]).map(i=>new Promise((p,m)=>{c.load(i,l=>{l.scene&&Object.assign(l,Z(l.scene)),p(l)},r,l=>m(o("[useLoader] - Failed to load resource",l)))}));return he(a)?await Promise.all(f):await f[0]}async function Pe(e){const a=new P.LoadingManager,t=new P.TextureLoader(a),r=n=>new Promise((o,c)=>{t.load(n,s=>o(s),()=>null,()=>{c(new Error("[useTextures] - Failed to load texture"))})});if(we(e)){const n=await Promise.all(e.map(o=>r(o)));return e.length>1?n:n[0]}else{const{map:n,displacementMap:o,normalMap:c,roughnessMap:s,metalnessMap:f,aoMap:i,alphaMap:p,matcap:m}=e;return{map:n?await r(n):null,displacementMap:o?await r(o):null,normalMap:c?await r(c):null,roughnessMap:s?await r(s):null,metalnessMap:f?await r(f):null,aoMap:i?await r(i):null,alphaMap:p?await r(p):null,matcap:m?await r(m):null}}}const ee=(e,{renderer:a,camera:t,raycaster:r})=>{const n=u.computed(()=>a.value.domElement),{x:o,y:c}=y.usePointer({target:n}),{width:s,height:f,top:i,left:p}=y.useElementBounding(n),m=({x:C,y:k})=>{if(n.value)return{x:(C-p.value)/s.value*2-1,y:-((k-i.value)/f.value)*2+1}},l=({x:C,y:k})=>{if(t.value)return r.value.setFromCamera(new P.Vector2(C,k),t.value),r.value.intersectObjects(e.value,!1)},d=C=>{const k=m({x:(C==null?void 0:C.clientX)??o.value,y:(C==null?void 0:C.clientY)??c.value});return k?l(k)||[]:[]},g=u.computed(()=>d()),v=y.createEventHook(),b=y.createEventHook(),h=(C,k)=>{C.trigger({event:k,intersects:d(k)})},L=C=>{h(b,C)};let M;const A=C=>{var k;M=(k=d(C)[0])==null?void 0:k.object},D=C=>{var k;C instanceof PointerEvent&&M===((k=d(C)[0])==null?void 0:k.object)&&h(v,C)},O=C=>b.trigger({event:C,intersects:[]});return n.value.addEventListener("pointerup",D),n.value.addEventListener("pointerdown",A),n.value.addEventListener("pointermove",L),n.value.addEventListener("pointerleave",O),u.onUnmounted(()=>{n!=null&&n.value&&(n.value.removeEventListener("pointerup",D),n.value.removeEventListener("pointerdown",A),n.value.removeEventListener("pointermove",L),n.value.removeEventListener("pointerleave",O))}),{intersects:g,onClick:C=>v.on(C).off,onPointerMove:C=>b.on(C).off}};function Me(){const{logWarning:e}=S();function a(o,c,s){let f=null;return o.traverse(i=>{i[c]===s&&(f=i)}),f||e(`Child with ${c} '${s}' not found.`),f}function t(o,c,s){const f=[];return o.traverse(i=>{i[c].includes(s)&&f.push(i)}),f.length||e(`Children with ${c} '${s}' not found.`),f}function r(o,c){return a(o,"name",c)}function n(o,c){return t(o,"name",c)}return{seek:a,seekByName:r,seekAll:t,seekAllByName:n}}const te=({scene:e,contextParts:a})=>{const t=u.reactive({click:new Map,pointerMove:new Map,pointerEnter:new Map,pointerLeave:new Map}),r=u.ref(new Set),n=l=>{r.value.add(l)},o=l=>{r.value.delete(l)},c=l=>{Object.values(t).forEach(d=>d.delete(l)),o(l)},s=l=>{const{onClick:d,onPointerMove:g,onPointerEnter:v,onPointerLeave:b}=l;d&&t.click.set(l,d),g&&t.pointerMove.set(l,g),v&&t.pointerEnter.set(l,v),b&&t.pointerLeave.set(l,b)};e.userData.tres__registerAtPointerEventHandler=s,e.userData.tres__deregisterAtPointerEventHandler=c,e.userData.tres__registerBlockingObjectAtPointerEventHandler=n,e.userData.tres__deregisterBlockingObjectAtPointerEventHandler=o;const f=u.computed(()=>ge([...Array.from(r.value),...Object.values(t).map(l=>Array.from(l.keys())).flat()],({uuid:l})=>l)),{onClick:i,onPointerMove:p}=ee(f,a);i(({intersects:l,event:d})=>{var g;l.length&&((g=t.click.get(l[0].object))==null||g(l[0],d))});let m;return p(({intersects:l,event:d})=>{var L,M,A,D;const g=(L=l==null?void 0:l[0])==null?void 0:L.object,{pointerLeave:v,pointerEnter:b,pointerMove:h}=t;m&&m!==g&&((M=v.get(m))==null||M(m,d)),g&&(m!==g&&((A=b.get(g))==null||A(l[0],d)),(D=h.get(g))==null||D(l[0],d)),m=g||null}),{registerObject:s,deregisterObject:c}};function Ae(e){let a=0;return e.traverse(t=>{if(t.isMesh&&t.geometry){const r=t.geometry,n=r.attributes.position.count*3*Float32Array.BYTES_PER_ELEMENT,o=r.index?r.index.count*Uint32Array.BYTES_PER_ELEMENT:0,c=r.attributes.normal?r.attributes.normal.count*3*Float32Array.BYTES_PER_ELEMENT:0,s=r.attributes.uv?r.attributes.uv.count*2*Float32Array.BYTES_PER_ELEMENT:0,f=n+o+c+s;a+=f}}),a}const j=u.ref({}),F=e=>Object.assign(j.value,e);function re({scene:e,canvas:a,windowSize:t,disableRender:r,rendererOptions:n}){const o=u.computed(()=>y.toValue(t)?y.useWindowSize():y.useElementSize(y.toValue(a).parentElement)),c=u.computed(()=>o.value.width.value),s=u.computed(()=>o.value.height.value),f=u.computed(()=>c.value/s.value),i={height:s,width:c,aspectRatio:f},p=u.shallowRef(e),{camera:m,cameras:l,registerCamera:d,deregisterCamera:g,setCameraActive:v}=G({sizes:i,scene:e}),{renderer:b}=X({scene:e,canvas:a,options:n,contextParts:{sizes:i,camera:m},disableRender:r}),h={sizes:i,scene:p,camera:m,cameras:u.readonly(l),renderer:b,raycaster:u.shallowRef(new P.Raycaster),controls:u.ref(null),perf:{maxFrames:160,fps:{value:0,accumulator:[]},memory:{currentMem:0,allocatedMem:0,accumulator:[]}},extend:F,registerCamera:d,setCameraActive:v,deregisterCamera:g};u.provide("useTres",h);const L=100,M=y.useFps({every:L}),{isSupported:A,memory:D}=y.useMemory({interval:L}),O=160;let C=performance.now();const k=({timestamp:R})=>{h.scene.value&&(h.perf.memory.allocatedMem=Ae(h.scene.value)),R-C>=L&&(C=R,h.perf.fps.accumulator.push(M.value),h.perf.fps.accumulator.length>O&&h.perf.fps.accumulator.shift(),h.perf.fps.value=M.value,A.value&&D.value&&(h.perf.memory.accumulator.push(D.value.usedJSHeapSize/1024/1024),h.perf.memory.accumulator.length>O&&h.perf.memory.accumulator.shift(),h.perf.memory.currentMem=h.perf.memory.accumulator.reduce((xe,Ve)=>xe+Ve,0)/h.perf.memory.accumulator.length))};let $=0;const Be=1,{pause:Te,resume:ze}=y.useRafFn(({delta:R})=>{window.__TRES__DEVTOOLS__&&(k({timestamp:performance.now()}),$+=R,$>=Be&&(window.__TRES__DEVTOOLS__.cb(h),$=0))},{immediate:!0});return u.onUnmounted(()=>{Te()}),h}function ne(){const e=u.inject("useTres");if(!e)throw new Error("useTresContext must be used together with useTresContextProvider");return e}const be=ne;function Fe(e){}let w=null;const{logError:ae}=S(),ke={createElement(e,a,t,r){var c,s;if(r||(r={}),r.args||(r.args=[]),e==="template"||de(e))return null;let n=e.replace("Tres",""),o;if(e==="primitive"){(r==null?void 0:r.object)===void 0&&ae("Tres primitives need a prop 'object'");const f=r.object;n=f.type,o=Object.assign(f,{type:n,attach:r.attach,primitive:!0})}else{const f=j.value[n];f||ae(`${n} is not defined on the THREE namespace. Use extend to add it to the catalog.`),o=new f(...r.args)}return o.isCamera&&(r!=null&&r.position||o.position.set(3,3,3),r!=null&&r.lookAt||o.lookAt(0,0,0)),(r==null?void 0:r.attach)===void 0&&(o.isMaterial?o.attach="material":o.isBufferGeometry&&(o.attach="geometry")),o.isObject3D&&((c=r==null?void 0:r.material)!=null&&c.isMaterial&&(o.userData.tres__materialViaProp=!0),(s=r==null?void 0:r.geometry)!=null&&s.isBufferGeometry&&(o.userData.tres__geometryViaProp=!0)),o.userData={...o.userData,tres__name:n},o},insert(e,a){var r,n,o,c;a&&a.isScene&&(w=a);const t=a||w;if(e!=null&&e.isObject3D){if(e!=null&&e.isCamera){if(!(w!=null&&w.userData.tres__registerCamera))throw"could not find tres__registerCamera on scene's userData";(n=w==null?void 0:(r=w.userData).tres__registerCamera)==null||n.call(r,e)}if(e!=null&&e.onClick||e!=null&&e.onPointerMove||e!=null&&e.onPointerEnter||e!=null&&e.onPointerLeave){if(!(w!=null&&w.userData.tres__registerAtPointerEventHandler))throw"could not find tres__registerAtPointerEventHandler on scene's userData";(c=w==null?void 0:(o=w.userData).tres__registerAtPointerEventHandler)==null||c.call(o,e)}}e!=null&&e.isObject3D&&(t!=null&&t.isObject3D)?(t.add(e),e.dispatchEvent({type:"added"})):e!=null&&e.isFog?t.fog=e:typeof(e==null?void 0:e.attach)=="string"&&(e.__previousAttach=e[t==null?void 0:t.attach],t&&(t[e.attach]=e))},remove(e){var a,t;if(e){if(e.isObject3D){const r=e,n=i=>{var m,l;const p=i;i.userData.tres__materialViaProp||(m=p.material)==null||m.dispose(),i.userData.tres__geometryViaProp||(l=p.geometry)==null||l.dispose()},o=w==null?void 0:w.userData.tres__deregisterAtPointerEventHandler,c=w==null?void 0:w.userData.tres__deregisterBlockingObjectAtPointerEventHandler,s=i=>{var p,m;if(!c)throw"could not find tres__deregisterBlockingObjectAtPointerEventHandler on scene's userData";if((m=w==null?void 0:(p=w.userData).tres__deregisterBlockingObjectAtPointerEventHandler)==null||m.call(p,i),!o)throw"could not find tres__deregisterAtPointerEventHandler on scene's userData";(i!=null&&i.onClick||i!=null&&i.onPointerMove||i!=null&&i.onPointerEnter||i!=null&&i.onPointerLeave)&&(o==null||o(i))},f=i=>{const p=w==null?void 0:w.userData.tres__deregisterCamera;if(!p)throw"could not find tres__deregisterCamera on scene's userData";i.isCamera&&(p==null||p(i))};r.traverse(i=>{n(i),f(i),s==null||s(i)}),n(r),f(r),s==null||s(r)}(a=e.removeFromParent)==null||a.call(e),(t=e.dispose)==null||t.call(e)}},patchProp(e,a,t,r){var n,o,c,s;if(e){let f=e,i=a;if(e.isObject3D&&i==="blocks-pointer-events"){r||r===""?(o=w==null?void 0:(n=w.userData).tres__registerBlockingObjectAtPointerEventHandler)==null||o.call(n,e):(s=w==null?void 0:(c=w.userData).tres__deregisterBlockingObjectAtPointerEventHandler)==null||s.call(c,e);return}let p=x(i),m=f==null?void 0:f[p];if(i==="args"){const d=e,g=t??[],v=r??[],b=e.userData.tres__name||e.type;b&&g.length&&!ye(g,v)&&(f=Object.assign(d,new j.value[b](...r)));return}if(f.type==="BufferGeometry"){if(i==="args")return;f.setAttribute(x(i),new P.BufferAttribute(...r));return}if(i.includes("-")&&m===void 0){const d=i.split("-");m=d.reduce((g,v)=>g[x(v)],f),i=d.pop(),p=i.toLowerCase(),m!=null&&m.set||(f=d.reduce((g,v)=>g[x(v)],f))}let l=r;if(l===""&&(l=!0),Q(m)){Array.isArray(l)?e[p](...l):e[p](l);return}!(m!=null&&m.set)&&!Q(m)?f[p]=l:m.constructor===l.constructor&&(m!=null&&m.copy)?m==null||m.copy(l):Array.isArray(l)?m.set(...l):!m.isColor&&m.setScalar?m.setScalar(l):m.set(l)}},parentNode(e){return(e==null?void 0:e.parent)||null},createText:()=>void 0,createComment:()=>void 0,setText:()=>void 0,setElementText:()=>void 0,nextSibling:()=>void 0,querySelector:()=>void 0,setScopeId:()=>void 0,cloneNode:()=>void 0,insertStaticContent:()=>void 0},{render:Le}=u.createRenderer(ke);F(ie);const De=["data-scene"],oe=u.defineComponent({__name:"TresCanvas",props:{shadows:{type:Boolean,default:void 0},clearColor:{},toneMapping:{},shadowMapType:{},useLegacyLights:{type:Boolean,default:void 0},outputColorSpace:{},toneMappingExposure:{},camera:{},preset:{},windowSize:{type:Boolean,default:void 0},disableRender:{type:Boolean,default:void 0},context:{},precision:{},alpha:{type:Boolean,default:void 0},premultipliedAlpha:{type:Boolean},antialias:{type:Boolean,default:void 0},stencil:{type:Boolean,default:void 0},preserveDrawingBuffer:{type:Boolean,default:void 0},powerPreference:{},depth:{type:Boolean,default:void 0},logarithmicDepthBuffer:{type:Boolean,default:void 0},failIfMajorPerformanceCaveat:{type:Boolean,default:void 0}},setup(e,{expose:a}){var l;const t=e,{logWarning:r}=S(),n=u.ref(),o=u.shallowRef(new P.Scene);N();const c=u.useSlots(),s=(l=u.getCurrentInstance())==null?void 0:l.appContext.app,f=d=>u.defineComponent({setup(){var v;const g=(v=u.getCurrentInstance())==null?void 0:v.appContext;return g&&(g.app=s),u.provide("useTres",d),u.provide("extend",F),()=>u.h(u.Fragment,null,c!=null&&c.default?c.default():[])}}),i=d=>{const g=f(d);Le(u.h(g),o.value)},p=u.computed(()=>t.disableRender),m=u.shallowRef(null);return a({context:m}),u.onMounted(()=>{const d=n;m.value=re({scene:o.value,canvas:d,windowSize:t.windowSize,disableRender:p,rendererOptions:t}),te({scene:o.value,contextParts:m.value});const{registerCamera:g,camera:v,cameras:b,deregisterCamera:h}=m.value;i(m.value);const L=()=>{const M=new P.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3);M.position.set(3,3,3),M.lookAt(0,0,0),g(M);const A=u.watchEffect(()=>{b.value.length>=2&&(M.removeFromParent(),h(M),A==null||A())})};u.watch(()=>t.camera,(M,A)=>{M&&g(M),A&&(A.removeFromParent(),h(A))},{immediate:!0}),v.value||(r("No camera found. Creating a default perspective camera. To have full control over a camera, please add one to the scene."),L())}),(d,g)=>(u.openBlock(),u.createElementBlock("canvas",{ref_key:"canvas",ref:n,"data-scene":o.value.uuid,class:u.normalizeClass(d.$attrs.class),style:u.normalizeStyle({display:"block",width:"100%",height:"100%",position:d.windowSize?"fixed":"relative",top:0,left:0,pointerEvents:"auto",touchAction:"none",...d.$attrs.style})},null,14,De))}}),Oe=["TresCanvas","TresLeches","TresScene"],Se={template:{compilerOptions:{isCustomElement:e=>e.startsWith("Tres")&&!Oe.includes(e)||e==="primitive"}}},Ee={install(e){e.component("TresCanvas",oe)}};_.TresCanvas=oe,_.catalogue=j,_.default=Ee,_.extend=F,_.isProd=fe,_.normalizeColor=q,_.normalizeVectorFlexibleParam=me,_.templateCompilerOptions=Se,_.trasverseObjects=Z,_.useCamera=G,_.useLoader=_e,_.useLogger=S,_.usePointerEventHandler=te,_.useRaycaster=ee,_.useRenderLoop=N,_.useRenderer=X,_.useSeek=Me,_.useTexture=Pe,_.useTres=be,_.useTresContext=ne,_.useTresContextProvider=re,Object.defineProperties(_,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
